<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Class Test Management System</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f2f2f2;
        margin: 0;
        padding: 0;
    }
    .container {
        width: 90%;
        max-width: 800px;
        margin: 50px auto;
        background-color: #fff;
        padding: 20px 30px;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    h1 {
        text-align: center;
        color: #333;
    }
    form {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-bottom: 20px;
    }
    form input {
        flex: 1 1 30%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }
    form button {
        padding: 10px 20px;
        border: none;
        background-color: #007BFF;
        color: #fff;
        border-radius: 5px;
        cursor: pointer;
    }
    form button:hover {
        background-color: #0056b3;
    }
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 10px;
    }
    table, th, td {
        border: 1px solid #ccc;
    }
    th, td {
        padding: 10px;
        text-align: center;
    }
    th {
        background-color: #007BFF;
        color: #fff;
    }
    .total {
        margin-top: 20px;
        font-weight: bold;
        text-align: right;
    }
    .edit-btn, .delete-btn {
        padding: 5px 10px;
        margin: 0 2px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        color: #fff;
    }
    .edit-btn { background-color: #28a745; }
    .delete-btn { background-color: #dc3545; }
</style>
</head>
<body>
<div class="container">
    <h1>Class Test Management System</h1>

    <form id="studentForm">
        <input type="text" id="name" placeholder="Student Name" required>
        <input type="number" id="marks" placeholder="Marks (0-100)" min="0" max="100" required>
        <button type="submit">Add Student</button>
    </form>

    <table id="marksTable">
        <thead>
            <tr>
                <th>Student Name</th>
                <th>Marks</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <div class="total" id="totalMarks">Total: 0 | Average: 0</div>
</div>

<script>
    const form = document.getElementById('studentForm');
    const tableBody = document.querySelector('#marksTable tbody');
    const totalDisplay = document.getElementById('totalMarks');

    let students = [];
    let editIndex = -1;

    form.addEventListener('submit', function(e){
        e.preventDefault();
        const name = document.getElementById('name').value.trim();
        const marks = parseInt(document.getElementById('marks').value);

        if(editIndex === -1){
            students.push({ name, marks });
        } else {
            students[editIndex] = { name, marks };
            editIndex = -1;
            form.querySelector('button').textContent = 'Add Student';
        }

        displayStudents();
        form.reset();
    });

    function displayStudents(){
        tableBody.innerHTML = '';
        let total = 0;

        students.forEach((student, index) => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${student.name}</td>
                <td>${student.marks}</td>
                <td>
                    <button class="edit-btn" onclick="editStudent(${index})">Edit</button>
                    <button class="delete-btn" onclick="deleteStudent(${index})">Delete</button>
                </td>
            `;
            tableBody.appendChild(row);
            total += student.marks;
        });

        const avg = students.length ? (total / students.length).toFixed(2) : 0;
        totalDisplay.textContent = `Total: ${total} | Average: ${avg}`;
    }

    function editStudent(index){
        document.getElementById('name').value = students[index].name;
        document.getElementById('marks').value = students[index].marks;
        form.querySelector('button').textContent = 'Update Student';
        editIndex = index;
    }

    function deleteStudent(index){
        students.splice(index, 1);
        displayStudents();
    }
</script>
</body>
</html>
